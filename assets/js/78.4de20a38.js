(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{507:function(a,s,t){"use strict";t.r(s);var r=t(15),e=Object(r.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[s("img",{attrs:{src:"https://turbo.build/images/docs/repo/repo-hero-logo-dark.svg",alt:"Image text"}})]),a._v(" "),s("ul",[s("li",[a._v("Turborepo 是一个针对 JavaScript 和 TypeScript 代码库优化的智能构建系统。Turborepo 使用"),s("code",[a._v("缓存")]),a._v("来增强您的本地设置并加速您的 CI。")])]),a._v(" "),s("h2",{attrs:{id:"turbo创建一个新的-monorepo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#turbo创建一个新的-monorepo"}},[a._v("#")]),a._v(" turbo创建一个新的 monorepo")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("npx create"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("turbo@latest\n")])])]),s("h2",{attrs:{id:"运行开发脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行开发脚本"}},[a._v("#")]),a._v(" 运行开发脚本")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("turbo dev\n")])])]),s("h1",{attrs:{id:"dev一次只在一个工作区上运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dev一次只在一个工作区上运行"}},[a._v("#")]),a._v(" dev一次只在一个工作区上运行")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("turbo dev "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("filter docs\n")])])]),s("h2",{attrs:{id:"使用-turborepo-构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-turborepo-构建"}},[a._v("#")]),a._v(" 使用 Turborepo 构建")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("turbo build\n")])])]),s("h2",{attrs:{id:"在工作区中安装包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在工作区中安装包"}},[a._v("#")]),a._v(" 在工作区中安装包")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("pnpm add "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("filter "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("workspace"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n例： pnpm add react "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("filter web\n")])])]),s("h2",{attrs:{id:"从工作区中删除包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从工作区中删除包"}},[a._v("#")]),a._v(" 从工作区中删除包")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("pnpm uninstall "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("filter "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("workspace"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n例： pnpm uninstall react "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("filter web\n")])])]),s("h2",{attrs:{id:"升级工作区中的包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#升级工作区中的包"}},[a._v("#")]),a._v(" 升级工作区中的包")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("pnpm update "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("filter "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("workspace"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n例： pnpm update react "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("filter web\n")])])]),s("h2",{attrs:{id:"工作区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工作区"}},[a._v("#")]),a._v(" 工作区")]),a._v(" "),s("ul",[s("li",[a._v("工作区是您的 monorepo 的构建块。您添加到 monorepo 的每个应用程序和包都将位于其自己的工作区内")])]),a._v(" "),s("h2",{attrs:{id:"配置工作区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置工作区"}},[a._v("#")]),a._v(" 配置工作区")]),a._v(" "),s("ul",[s("li",[a._v("要使用工作空间，您必须首先向包管理器声明它们的文件系统位置")])]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("packages")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"docs"')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"apps/*"')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"packages/*"')]),a._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("my"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("monorepo\n├─ docs\n├─ apps\n│  ├─ api\n│  └─ mobile\n├─ packages\n│  ├─ tsconfig\n│  └─ shared"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("utils\n└─ sdk\n")])])]),s("p",[a._v("在上面的例子中， 和 里面的所有目录my-monorepo/apps/都是my-monorepo/packages/工作空间，my-monorepo/docs目录本身也是一个工作空间。my-monorepo/sdk/不是工作区，因为它不包含在工作区配置中。")]),a._v(" "),s("h2",{attrs:{id:"命名工作区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命名工作区"}},[a._v("#")]),a._v(" 命名工作区")]),a._v(" "),s("p",[a._v("每个工作区都有一个唯一的名称，在其package.json:")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[a._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"shared-utils"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("p",[a._v("该名称用于：")]),a._v(" "),s("ul",[s("li",[a._v("指定"),s("code",[a._v("应将包安装到哪个工作区")])]),a._v(" "),s("li",[a._v("在其他工作区中使用此工作区")]),a._v(" "),s("li",[s("code",[a._v("发布包")]),a._v("：它将在name您指定的 npm 上发布")]),a._v(" "),s("li",[a._v("您可以使用 npm 组织或用户范围来避免与 npm 上的现有包发生冲突。例如，您可以使用@mycompany/shared-utils.")])]),a._v(" "),s("h2",{attrs:{id:"相互依赖的工作区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相互依赖的工作区"}},[a._v("#")]),a._v(" 相互依赖的工作区")]),a._v(" "),s("p",[a._v("要在另一个工作区内使用一个工作区，您需要使用其名称将其指定为依赖项。\n例如，如果我们想要"),s("code",[a._v("apps/docsimport packages/shared-utils")]),a._v("，我们需要在"),s("code",[a._v("shared-utils")]),a._v("里面添加一个依赖"),s("code",[a._v("apps/docs/package.json")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[a._v('"dependencies"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[a._v('"shared-utils"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"workspace:*"')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);